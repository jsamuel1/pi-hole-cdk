{
    "Resources": {
        "tgw23F41D77": {
            "Type": "AWS::EC2::TransitGateway",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "pihole-tgw"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw/Resource"
            }
        },
        "tgwGetDefaultRouteTableId919819F2": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"service\":\"EC2\",\"action\":\"describeTransitGateways\",\"parameters\":{\"TransitGatewayIds\":[\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"]},\"physicalResourceId\":{\"id\":\"GetDefaultRouteTableId\"}}"
                        ]
                    ]
                },
                "Update": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"service\":\"EC2\",\"action\":\"describeTransitGateways\",\"parameters\":{\"TransitGatewayIds\":[\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"]},\"physicalResourceId\":{\"id\":\"GetDefaultRouteTableId\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwGetDefaultRouteTableIdCustomResourcePolicy98FAE2A5"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw/GetDefaultRouteTableId/Resource/Default"
            }
        },
        "tgwGetDefaultRouteTableIdCustomResourcePolicy98FAE2A5": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "ec2:DescribeTransitGateways",
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwGetDefaultRouteTableIdCustomResourcePolicy98FAE2A5",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw/GetDefaultRouteTableId/CustomResourcePolicy/Resource"
            }
        },
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                            ]
                        ]
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource"
            }
        },
        "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": "cdk-hnb659fds-assets-717494614307-ap-southeast-2",
                    "S3Key": "a524840909b73225567052baa4f50f81f3f2444186a5011d26e441ac674adb81.zip"
                },
                "Handler": "index.handler",
                "Role": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
                        "Arn"
                    ]
                },
                "Runtime": "nodejs18.x",
                "Timeout": 120
            },
            "DependsOn": [
                "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
            ],
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/AWS679f53fac002430cb0da5b7982bd2287/Resource",
                "aws:asset:path": "asset.a524840909b73225567052baa4f50f81f3f2444186a5011d26e441ac674adb81",
                "aws:asset:is-bundled": false,
                "aws:asset:property": "Code"
            }
        },
        "vpctgwattachment12129747": {
            "Type": "AWS::EC2::TransitGatewayVpcAttachment",
            "Properties": {
                "Options": {
                    "ApplianceModeSupport": "disable",
                    "DnsSupport": "enable",
                    "Ipv6Support": "disable"
                },
                "SubnetIds": [
                    "subnet-0a94cd53487c5f005",
                    "subnet-0ecf5cb127062f1e3",
                    "subnet-051a58b14db331cca"
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "vpc-attachment"
                    }
                ],
                "TransitGatewayId": {
                    "Ref": "tgw23F41D77"
                },
                "VpcId": "vpc-059f0682110d6ff0d"
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/vpc-tgw-attachment/Resource"
            }
        },
        "customergateway": {
            "Type": "AWS::EC2::CustomerGateway",
            "Properties": {
                "BgpAsn": 65001,
                "IpAddress": "119.17.156.127",
                "Type": "ipsec.1"
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/customer-gateway"
            }
        },
        "sitetositevpnConnectionVpnConnection0A1C70BF": {
            "Type": "AWS::EC2::VPNConnection",
            "Properties": {
                "CustomerGatewayId": {
                    "Ref": "customergateway"
                },
                "StaticRoutesOnly": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "pihole-vpn"
                    }
                ],
                "TransitGatewayId": {
                    "Ref": "tgw23F41D77"
                },
                "Type": "ipsec.1",
                "VpnTunnelOptionsSpecifications": [
                    {
                        "PreSharedKey": "{{resolve:secretsmanager:arn:aws:secretsmanager:ap-southeast-2:717494614307:secret:pihole-pwd:SecretString:::}}",
                        "TunnelInsideCidr": "169.254.250.0/30"
                    },
                    {
                        "PreSharedKey": "{{resolve:secretsmanager:arn:aws:secretsmanager:ap-southeast-2:717494614307:secret:pihole-pwd:SecretString:::}}",
                        "TunnelInsideCidr": "169.254.251.0/30"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/sitetositevpnConnection/VpnConnection"
            }
        },
        "tgwvpnplroute0rtb032ad67919adf5829prefixlisttransitgateway972AD759": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-032ad67919adf5829-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"TransitGatewayId\":\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\",\"RouteTableId\":\"rtb-032ad67919adf5829\"}}"
                        ]
                    ]
                },
                "Delete": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-032ad67919adf5829-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"RouteTableId\":\"rtb-032ad67919adf5829\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwvpnplroute0rtb032ad67919adf5829prefixlisttransitgatewayCustomResourcePolicy28D875E7"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-032ad67919adf5829-prefixlist-transitgateway/Resource/Default"
            }
        },
        "tgwvpnplroute0rtb032ad67919adf5829prefixlisttransitgatewayCustomResourcePolicy28D875E7": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "ec2:CreateRoute",
                                "ec2:DeleteRoute"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwvpnplroute0rtb032ad67919adf5829prefixlisttransitgatewayCustomResourcePolicy28D875E7",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-032ad67919adf5829-prefixlist-transitgateway/CustomResourcePolicy/Resource"
            }
        },
        "tgwvpnplroute1rtb0cc817e141354727dprefixlisttransitgatewayD2E73CA0": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-0cc817e141354727d-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"TransitGatewayId\":\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\",\"RouteTableId\":\"rtb-0cc817e141354727d\"}}"
                        ]
                    ]
                },
                "Delete": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-0cc817e141354727d-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"RouteTableId\":\"rtb-0cc817e141354727d\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwvpnplroute1rtb0cc817e141354727dprefixlisttransitgatewayCustomResourcePolicyCBEF78B2"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-0cc817e141354727d-prefixlist-transitgateway/Resource/Default"
            }
        },
        "tgwvpnplroute1rtb0cc817e141354727dprefixlisttransitgatewayCustomResourcePolicyCBEF78B2": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "ec2:CreateRoute",
                                "ec2:DeleteRoute"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwvpnplroute1rtb0cc817e141354727dprefixlisttransitgatewayCustomResourcePolicyCBEF78B2",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-0cc817e141354727d-prefixlist-transitgateway/CustomResourcePolicy/Resource"
            }
        },
        "tgwvpnplroute2rtb0465b7075e1682591prefixlisttransitgateway5C20D933": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-0465b7075e1682591-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"TransitGatewayId\":\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\",\"RouteTableId\":\"rtb-0465b7075e1682591\"}}"
                        ]
                    ]
                },
                "Delete": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-0465b7075e1682591-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"RouteTableId\":\"rtb-0465b7075e1682591\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwvpnplroute2rtb0465b7075e1682591prefixlisttransitgatewayCustomResourcePolicyEF881258"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-0465b7075e1682591-prefixlist-transitgateway/Resource/Default"
            }
        },
        "tgwvpnplroute2rtb0465b7075e1682591prefixlisttransitgatewayCustomResourcePolicyEF881258": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "ec2:CreateRoute",
                                "ec2:DeleteRoute"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwvpnplroute2rtb0465b7075e1682591prefixlisttransitgatewayCustomResourcePolicyEF881258",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-0465b7075e1682591-prefixlist-transitgateway/CustomResourcePolicy/Resource"
            }
        },
        "tgwvpnplroute0rtb0f873328ac19505c6prefixlisttransitgateway76F5018D": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-0f873328ac19505c6-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"TransitGatewayId\":\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\",\"RouteTableId\":\"rtb-0f873328ac19505c6\"}}"
                        ]
                    ]
                },
                "Delete": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-0f873328ac19505c6-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"RouteTableId\":\"rtb-0f873328ac19505c6\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwvpnplroute0rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy019A4B1F"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-0f873328ac19505c6-prefixlist-transitgateway/Resource/Default"
            }
        },
        "tgwvpnplroute0rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy019A4B1F": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "ec2:CreateRoute",
                                "ec2:DeleteRoute"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwvpnplroute0rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy019A4B1F",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-0f873328ac19505c6-prefixlist-transitgateway/CustomResourcePolicy/Resource"
            }
        },
        "tgwvpnplroute1rtb0f873328ac19505c6prefixlisttransitgatewayF3E6D87D": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-0f873328ac19505c6-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"TransitGatewayId\":\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\",\"RouteTableId\":\"rtb-0f873328ac19505c6\"}}"
                        ]
                    ]
                },
                "Delete": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-0f873328ac19505c6-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"RouteTableId\":\"rtb-0f873328ac19505c6\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwvpnplroute1rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy52654770"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-0f873328ac19505c6-prefixlist-transitgateway/Resource/Default"
            }
        },
        "tgwvpnplroute1rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy52654770": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "ec2:CreateRoute",
                                "ec2:DeleteRoute"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwvpnplroute1rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy52654770",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-0f873328ac19505c6-prefixlist-transitgateway/CustomResourcePolicy/Resource"
            }
        },
        "tgwvpnplroute2rtb0f873328ac19505c6prefixlisttransitgatewayA810B3F3": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-0f873328ac19505c6-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"TransitGatewayId\":\"",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\",\"RouteTableId\":\"rtb-0f873328ac19505c6\"}}"
                        ]
                    ]
                },
                "Delete": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-0f873328ac19505c6-",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "-",
                            {
                                "Ref": "tgw23F41D77"
                            },
                            "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
                            {
                                "Fn::ImportValue": "RFC1918PrefixListId"
                            },
                            "\",\"RouteTableId\":\"rtb-0f873328ac19505c6\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "tgwvpnplroute2rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy03BF2D28"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-0f873328ac19505c6-prefixlist-transitgateway/Resource/Default"
            }
        },
        "tgwvpnplroute2rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy03BF2D28": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "ec2:CreateRoute",
                                "ec2:DeleteRoute"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "tgwvpnplroute2rtb0f873328ac19505c6prefixlisttransitgatewayCustomResourcePolicy03BF2D28",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-0f873328ac19505c6-prefixlist-transitgateway/CustomResourcePolicy/Resource"
            }
        },
        "customresourcegettgwattidEDD8E265": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"service\":\"EC2\",\"action\":\"describeTransitGatewayAttachments\",\"parameters\":{\"Filters\":[{\"Name\":\"resource-id\",\"Values\":[\"",
                            {
                                "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
                            },
                            "\"]}]},\"physicalResourceId\":{\"id\":\"",
                            {
                                "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
                            },
                            "\"}}"
                        ]
                    ]
                },
                "Update": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"service\":\"EC2\",\"action\":\"describeTransitGatewayAttachments\",\"parameters\":{\"Filters\":[{\"Name\":\"resource-id\",\"Values\":[\"",
                            {
                                "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
                            },
                            "\"]}]},\"physicalResourceId\":{\"id\":\"",
                            {
                                "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
                            },
                            "\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "customresourcegettgwattidCustomResourcePolicy80D0EB21"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/custom-resource-get-tgw-att-id/Resource/Default"
            }
        },
        "customresourcegettgwattidCustomResourcePolicy80D0EB21": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "ec2:DescribeTransitGatewayAttachments",
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "customresourcegettgwattidCustomResourcePolicy80D0EB21",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/custom-resource-get-tgw-att-id/CustomResourcePolicy/Resource"
            }
        },
        "vpnroute0piholevpn1921680016": {
            "Type": "AWS::EC2::TransitGatewayRoute",
            "Properties": {
                "DestinationCidrBlock": "192.168.0.0/16",
                "TransitGatewayAttachmentId": {
                    "Fn::GetAtt": [
                        "customresourcegettgwattidEDD8E265",
                        "TransitGatewayAttachments.0.TransitGatewayAttachmentId"
                    ]
                },
                "TransitGatewayRouteTableId": {
                    "Fn::GetAtt": [
                        "tgwGetDefaultRouteTableId919819F2",
                        "TransitGateways.0.Options.AssociationDefaultRouteTableId"
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/vpn-route-0-pihole-vpn-192.168.0.0--16"
            }
        },
        "CDKMetadata": {
            "Type": "AWS::CDK::Metadata",
            "Properties": {
                "Analytics": "v2:deflate64:H4sIAAAAAAAA/2VQQWrDMBB8S++yilMo5JgY2lsIbsnVKPI2VSytinZVU4z/3rWdhNKcZkarGY12pddrXT6YngrbdoV3Rz28sbGdqoFiThaUzJoB7EoP1Qe+J4Pk+NUw9OZH3Z0cvuyGxf8ZAHkaV5k4Bkh/HIf9roqIYNlFvI+oY2YYlTfh2Bpp4/DkgSO+ZFwcNyLWKx+VM0EP++idnR+5sDp6mOSEo6KnxhABk95MIFpvs+2At4ZkbOeuTbr8XG71tPS/LeO/lOQrnyNldycpPCqMLegzPX6Xz7qcVnwm54qUkV0AXS/4C1tRBnV+AQAA"
            },
            "Metadata": {
                "aws:cdk:path": "TgwWithSiteToSiteVpnStack/CDKMetadata/Default"
            }
        }
    },
    "Parameters": {
        "BootstrapVersion": {
            "Type": "AWS::SSM::Parameter::Value<String>",
            "Default": "/cdk-bootstrap/hnb659fds/version",
            "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
        }
    },
    "Rules": {
        "CheckBootstrapVersion": {
            "Assertions": [
                {
                    "Assert": {
                        "Fn::Not": [
                            {
                                "Fn::Contains": [
                                    [
                                        "1",
                                        "2",
                                        "3",
                                        "4",
                                        "5"
                                    ],
                                    {
                                        "Ref": "BootstrapVersion"
                                    }
                                ]
                            }
                        ]
                    },
                    "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
                }
            ]
        }
    }
}

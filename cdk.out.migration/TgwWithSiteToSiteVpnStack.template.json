{
 "Resources": {
  "tgw23F41D77": {
   "Type": "AWS::EC2::TransitGateway",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "pihole-tgw"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw/Resource"
   }
  },
  "tgwGetDefaultRouteTableId919819F2": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"service\":\"EC2\",\"action\":\"describeTransitGateways\",\"parameters\":{\"TransitGatewayIds\":[\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\"]},\"physicalResourceId\":{\"id\":\"GetDefaultRouteTableId\"}}"
      ]
     ]
    },
    "Update": {
     "Fn::Join": [
      "",
      [
       "{\"service\":\"EC2\",\"action\":\"describeTransitGateways\",\"parameters\":{\"TransitGatewayIds\":[\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\"]},\"physicalResourceId\":{\"id\":\"GetDefaultRouteTableId\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": true
   },
   "DependsOn": [
    "tgwGetDefaultRouteTableIdCustomResourcePolicy98FAE2A5"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw/GetDefaultRouteTableId/Resource/Default"
   }
  },
  "tgwGetDefaultRouteTableIdCustomResourcePolicy98FAE2A5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "ec2:DescribeTransitGateways",
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwGetDefaultRouteTableIdCustomResourcePolicy98FAE2A5",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw/GetDefaultRouteTableId/CustomResourcePolicy/Resource"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-717494614307-us-west-2",
     "S3Key": "bc8ef58951f4c88e641dd23090e9d2e2e61c7530a07960e767522941e959b625.zip"
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      "Arn"
     ]
    },
    "Runtime": "nodejs22.x",
    "Timeout": 120
   },
   "DependsOn": [
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
   ],
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/AWS679f53fac002430cb0da5b7982bd2287/Resource",
    "aws:asset:path": "asset.bc8ef58951f4c88e641dd23090e9d2e2e61c7530a07960e767522941e959b625",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd2287LogGroup449FB7C2": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": {
     "Fn::Join": [
      "",
      [
       "/aws/lambda/",
       {
        "Ref": "AWS679f53fac002430cb0da5b7982bd22872D164C4C"
       }
      ]
     ]
    },
    "RetentionInDays": 731
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/AWS679f53fac002430cb0da5b7982bd2287/LogGroup/Resource"
   }
  },
  "vpctgwattachment12129747": {
   "Type": "AWS::EC2::TransitGatewayVpcAttachment",
   "Properties": {
    "Options": {
     "ApplianceModeSupport": "disable",
     "DnsSupport": "enable",
     "Ipv6Support": "enable"
    },
    "SubnetIds": [
     "subnet-095b069ea2f8dae96",
     "subnet-0640a0a54147e3239",
     "subnet-017bb34117eab1589"
    ],
    "Tags": [
     {
      "Key": "Name",
      "Value": "vpc-attachment"
     }
    ],
    "TransitGatewayId": {
     "Ref": "tgw23F41D77"
    },
    "VpcId": "vpc-069f286e8b8ca3d57"
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/vpc-tgw-attachment/Resource"
   }
  },
  "customergateway": {
   "Type": "AWS::EC2::CustomerGateway",
   "Properties": {
    "BgpAsn": 65001,
    "IpAddress": "127.0.0.1",
    "Type": "ipsec.1"
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/customer-gateway"
   }
  },
  "sitetositevpnConnectionVpnConnection0A1C70BF": {
   "Type": "AWS::EC2::VPNConnection",
   "Properties": {
    "CustomerGatewayId": {
     "Ref": "customergateway"
    },
    "StaticRoutesOnly": true,
    "Tags": [
     {
      "Key": "Name",
      "Value": "pihole-vpn"
     }
    ],
    "TransitGatewayId": {
     "Ref": "tgw23F41D77"
    },
    "Type": "ipsec.1",
    "VpnTunnelOptionsSpecifications": [
     {
      "PreSharedKey": "{{resolve:secretsmanager:arn:aws:secretsmanager:us-west-2:717494614307:secret:pihole-pwd:SecretString:::}}",
      "TunnelInsideCidr": "169.254.250.0/30"
     },
     {
      "PreSharedKey": "{{resolve:secretsmanager:arn:aws:secretsmanager:us-west-2:717494614307:secret:pihole-pwd:SecretString:::}}",
      "TunnelInsideCidr": "169.254.251.0/30"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/sitetositevpnConnection/VpnConnection"
   }
  },
  "tgwvpnplroute0rtb0e1b5c4a33d9d952dprefixlisttransitgateway719DF24B": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-0e1b5c4a33d9d952d-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"TransitGatewayId\":\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\",\"RouteTableId\":\"rtb-0e1b5c4a33d9d952d\"}}"
      ]
     ]
    },
    "Delete": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-0e1b5c4a33d9d952d-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"RouteTableId\":\"rtb-0e1b5c4a33d9d952d\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "tgwvpnplroute0rtb0e1b5c4a33d9d952dprefixlisttransitgatewayCustomResourcePolicy4364A343"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-0e1b5c4a33d9d952d-prefixlist-transitgateway/Resource/Default"
   }
  },
  "tgwvpnplroute0rtb0e1b5c4a33d9d952dprefixlisttransitgatewayCustomResourcePolicy4364A343": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:CreateRoute",
        "ec2:DeleteRoute"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwvpnplroute0rtb0e1b5c4a33d9d952dprefixlisttransitgatewayCustomResourcePolicy4364A343",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-0e1b5c4a33d9d952d-prefixlist-transitgateway/CustomResourcePolicy/Resource"
   }
  },
  "tgwvpnplroute1rtb0d3c5812eee1ab0e3prefixlisttransitgatewayE7E4BF0E": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-0d3c5812eee1ab0e3-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"TransitGatewayId\":\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\",\"RouteTableId\":\"rtb-0d3c5812eee1ab0e3\"}}"
      ]
     ]
    },
    "Delete": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-0d3c5812eee1ab0e3-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"RouteTableId\":\"rtb-0d3c5812eee1ab0e3\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "tgwvpnplroute1rtb0d3c5812eee1ab0e3prefixlisttransitgatewayCustomResourcePolicy14C050C2"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-0d3c5812eee1ab0e3-prefixlist-transitgateway/Resource/Default"
   }
  },
  "tgwvpnplroute1rtb0d3c5812eee1ab0e3prefixlisttransitgatewayCustomResourcePolicy14C050C2": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:CreateRoute",
        "ec2:DeleteRoute"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwvpnplroute1rtb0d3c5812eee1ab0e3prefixlisttransitgatewayCustomResourcePolicy14C050C2",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-0d3c5812eee1ab0e3-prefixlist-transitgateway/CustomResourcePolicy/Resource"
   }
  },
  "tgwvpnplroute2rtb03fd923d374e6be92prefixlisttransitgatewayC1DFB03F": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-03fd923d374e6be92-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"TransitGatewayId\":\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\",\"RouteTableId\":\"rtb-03fd923d374e6be92\"}}"
      ]
     ]
    },
    "Delete": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-03fd923d374e6be92-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"RouteTableId\":\"rtb-03fd923d374e6be92\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "tgwvpnplroute2rtb03fd923d374e6be92prefixlisttransitgatewayCustomResourcePolicy1A3FAE1F"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-03fd923d374e6be92-prefixlist-transitgateway/Resource/Default"
   }
  },
  "tgwvpnplroute2rtb03fd923d374e6be92prefixlisttransitgatewayCustomResourcePolicy1A3FAE1F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:CreateRoute",
        "ec2:DeleteRoute"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwvpnplroute2rtb03fd923d374e6be92prefixlisttransitgatewayCustomResourcePolicy1A3FAE1F",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-03fd923d374e6be92-prefixlist-transitgateway/CustomResourcePolicy/Resource"
   }
  },
  "tgwvpnplroute0rtb035c76a2768e67c02prefixlisttransitgateway19D10BA5": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-035c76a2768e67c02-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"TransitGatewayId\":\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\",\"RouteTableId\":\"rtb-035c76a2768e67c02\"}}"
      ]
     ]
    },
    "Delete": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-0-rtb-035c76a2768e67c02-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"RouteTableId\":\"rtb-035c76a2768e67c02\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "tgwvpnplroute0rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicyDF36AFC1"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-035c76a2768e67c02-prefixlist-transitgateway/Resource/Default"
   }
  },
  "tgwvpnplroute0rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicyDF36AFC1": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:CreateRoute",
        "ec2:DeleteRoute"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwvpnplroute0rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicyDF36AFC1",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-0-rtb-035c76a2768e67c02-prefixlist-transitgateway/CustomResourcePolicy/Resource"
   }
  },
  "tgwvpnplroute1rtb035c76a2768e67c02prefixlisttransitgatewayD563C5A1": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-035c76a2768e67c02-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"TransitGatewayId\":\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\",\"RouteTableId\":\"rtb-035c76a2768e67c02\"}}"
      ]
     ]
    },
    "Delete": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-1-rtb-035c76a2768e67c02-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"RouteTableId\":\"rtb-035c76a2768e67c02\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "tgwvpnplroute1rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicy607A24F6"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-035c76a2768e67c02-prefixlist-transitgateway/Resource/Default"
   }
  },
  "tgwvpnplroute1rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicy607A24F6": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:CreateRoute",
        "ec2:DeleteRoute"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwvpnplroute1rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicy607A24F6",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-1-rtb-035c76a2768e67c02-prefixlist-transitgateway/CustomResourcePolicy/Resource"
   }
  },
  "tgwvpnplroute2rtb035c76a2768e67c02prefixlisttransitgatewayA922A439": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"createRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-035c76a2768e67c02-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"TransitGatewayId\":\"",
       {
        "Ref": "tgw23F41D77"
       },
       "\",\"RouteTableId\":\"rtb-035c76a2768e67c02\"}}"
      ]
     ]
    },
    "Delete": {
     "Fn::Join": [
      "",
      [
       "{\"action\":\"deleteRoute\",\"service\":\"EC2\",\"physicalResourceId\":{\"id\":\"tgw-vpn-pl-route-2-rtb-035c76a2768e67c02-",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "-",
       {
        "Ref": "tgw23F41D77"
       },
       "\"},\"parameters\":{\"DestinationPrefixListId\":\"",
       {
        "Fn::ImportValue": "RFC1918PrefixListId"
       },
       "\",\"RouteTableId\":\"rtb-035c76a2768e67c02\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "tgwvpnplroute2rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicy1E9D9FD2"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-035c76a2768e67c02-prefixlist-transitgateway/Resource/Default"
   }
  },
  "tgwvpnplroute2rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicy1E9D9FD2": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "ec2:CreateRoute",
        "ec2:DeleteRoute"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "tgwvpnplroute2rtb035c76a2768e67c02prefixlisttransitgatewayCustomResourcePolicy1E9D9FD2",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/tgw-vpn-pl-route-2-rtb-035c76a2768e67c02-prefixlist-transitgateway/CustomResourcePolicy/Resource"
   }
  },
  "customresourcegettgwattidEDD8E265": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"service\":\"EC2\",\"action\":\"describeTransitGatewayAttachments\",\"parameters\":{\"Filters\":[{\"Name\":\"resource-id\",\"Values\":[\"",
       {
        "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
       },
       "\"]}]},\"physicalResourceId\":{\"id\":\"",
       {
        "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
       },
       "\"}}"
      ]
     ]
    },
    "Update": {
     "Fn::Join": [
      "",
      [
       "{\"service\":\"EC2\",\"action\":\"describeTransitGatewayAttachments\",\"parameters\":{\"Filters\":[{\"Name\":\"resource-id\",\"Values\":[\"",
       {
        "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
       },
       "\"]}]},\"physicalResourceId\":{\"id\":\"",
       {
        "Ref": "sitetositevpnConnectionVpnConnection0A1C70BF"
       },
       "\"}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "customresourcegettgwattidCustomResourcePolicy80D0EB21"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/custom-resource-get-tgw-att-id/Resource/Default"
   }
  },
  "customresourcegettgwattidCustomResourcePolicy80D0EB21": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "ec2:DescribeTransitGatewayAttachments",
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "customresourcegettgwattidCustomResourcePolicy80D0EB21",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/custom-resource-get-tgw-att-id/CustomResourcePolicy/Resource"
   }
  },
  "vpnroute0piholevpn1921680016": {
   "Type": "AWS::EC2::TransitGatewayRoute",
   "Properties": {
    "DestinationCidrBlock": "192.168.0.0/16",
    "TransitGatewayAttachmentId": {
     "Fn::GetAtt": [
      "customresourcegettgwattidEDD8E265",
      "TransitGatewayAttachments.0.TransitGatewayAttachmentId"
     ]
    },
    "TransitGatewayRouteTableId": {
     "Fn::GetAtt": [
      "tgwGetDefaultRouteTableId919819F2",
      "TransitGateways.0.Options.AssociationDefaultRouteTableId"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/vpn-route-0-pihole-vpn-192.168.0.0--16"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/+1XwW7bMAz9lvo4KNqS7NRbGqDFgK0I4qIXwwgUmXXV2FIgUg0ywf8+SLbaDNlW9LYNPhgyHymST4IoccZn8zn/dCEOOJHVbtKoLfc5Cblja0DjrIQi+5CxP3wlEwfceJAz7pcP+s4KjYpuBMFBHNkZcr+XCyIhH1vQFNRLh2RasCcz7le3S6M1SFJGn7tYG0fQsUa020pwnytdN0BGXzsdZxQ+c05V2WXMsDdbObs3CAPWQmvsMVffE0CqBeNokKxpkqIx9Y01bj+ID0OIW9Emi+e9fP3L3VYD4QBIUyWrR6GrBmwK4HSIGKWO+UxU1TcgUQkS2WVccLIOyl+rwpoHzchx5DhyHDmOHEeO7+JYspOb8q+iU4bLPiXXMSVa7lemUfJY+AxJEIRXA55yz0/Qwnc97/jAuDPrmHyRNvY38Dv8juHGcP9puHj0+rPGAl4ksy+6URp6zZmPf18ZeQfCHcP5RiACIV+EgeGcXzm5A7oSCEXJGlMj91+HMlj4l4r4UgJ7b8mi65iMzc3GDr0U8sUB+4YntVfsZ/Gtbuu8+wrpJ18x75xErXTdMW0q4E/48Xn2mU+nfHrxhEpNhoLL1/34A2ffj84CDgAA"
   },
   "Metadata": {
    "aws:cdk:path": "TgwWithSiteToSiteVpnStack/CDKMetadata/Default"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}